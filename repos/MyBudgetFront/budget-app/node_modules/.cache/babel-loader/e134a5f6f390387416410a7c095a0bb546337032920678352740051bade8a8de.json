{"ast":null,"code":"var _jsxFileName = \"D:\\\\JoszkoStudia\\\\5sem\\\\Aplikacje_sieciowe_i_webowe\\\\git\\\\MyBudget\\\\repos\\\\MyBudgetFront\\\\budget-app\\\\src\\\\pages\\\\Dashboard.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { PieChart, Pie, Cell, Tooltip, Legend, ResponsiveContainer } from 'recharts';\nimport apiClient from '../api/axios';\nimport '../styles/dashboard.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst COLORS = ['#3498db', '#2ecc71', '#9b59b6', '#f1c40f', '#e67e22', '#e74c3c', '#95a5a6'];\nconst Dashboard = () => {\n  _s();\n  const navigate = useNavigate();\n  const getFirstDayOfMonth = () => {\n    const date = new Date();\n    return new Date(date.getFullYear(), date.getMonth(), 1).toISOString().split('T')[0];\n  };\n  const getToday = () => {\n    return new Date().toISOString().split('T')[0];\n  };\n  const [balance, setBalance] = useState(0);\n  const [allExpenses, setAllExpenses] = useState([]);\n  const [allIncome, setAllIncome] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [displayedTransactions, setDisplayedTransactions] = useState([]);\n  const [chartData, setChartData] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [startDate, setStartDate] = useState(getFirstDayOfMonth());\n  const [endDate, setEndDate] = useState(getToday());\n  const handleLogout = () => {\n    localStorage.removeItem('user');\n    window.location.reload();\n  };\n\n  // ... wewnątrz komponentu Dashboard ...\n\n  const [currency, setCurrency] = useState(\"PLN\"); // Domyślna wartość\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setIsLoading(true);\n        const [expensesRes, incomeRes, categoriesRes, accountRes] = await Promise.all([apiClient.get('/api/Expenses'), apiClient.get('/api/Income'), apiClient.get('/api/Category'), apiClient.get('/api/Account')]);\n        const userCurrency = accountRes.data.currency || \"PLN\";\n        setCurrency(userCurrency);\n        localStorage.setItem('userCurrency', userCurrency);\n\n        // Reszta danych...\n        setAllExpenses(expensesRes.data);\n        setAllIncome(incomeRes.data);\n        setCategories(categoriesRes.data);\n        const totalIncome = incomeRes.data.reduce((sum, item) => sum + item.amount, 0);\n        const totalExpenses = expensesRes.data.reduce((sum, item) => sum + item.amount, 0);\n        setBalance(totalIncome - totalExpenses);\n      } catch (error) {\n        console.error(\"Błąd danych:\", error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchData();\n  }, []);\n  useEffect(() => {\n    if (allExpenses.length === 0 && allIncome.length === 0) return;\n\n    // A. Filtrujemy WYDATKI\n    const filteredExpenses = allExpenses.filter(exp => {\n      const d = exp.date.split('T')[0];\n      return (!startDate || d >= startDate) && (!endDate || d <= endDate);\n    });\n\n    // B. Filtrujemy PRZYCHODY\n    const filteredIncome = allIncome.filter(inc => {\n      const d = inc.date.split('T')[0];\n      return (!startDate || d >= startDate) && (!endDate || d <= endDate);\n    });\n\n    // C. Łączymy obie listy w jedną\n    const combined = [...filteredExpenses, ...filteredIncome];\n\n    // D. Sortujemy po dacie (od najnowszych)\n    combined.sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime());\n    setDisplayedTransactions(combined);\n\n    // E. Wykres (nadal dotyczy tylko wydatków!)\n    const categoryMap = new Map();\n    filteredExpenses.forEach(exp => {\n      const matchedCat = categories.find(c => c.id === exp.categoryId);\n      const catName = matchedCat ? matchedCat.name : \"Inne\";\n      const currentTotal = categoryMap.get(catName) || 0;\n      categoryMap.set(catName, currentTotal + exp.amount);\n    });\n    setChartData(Array.from(categoryMap, ([name, value]) => ({\n      name,\n      value\n    })));\n  }, [startDate, endDate, allExpenses, allIncome, categories]);\n\n  // Funkcja pomocnicza: Sprawdza czy obiekt to Wydatek (czy ma categoryId)\n  const isExpense = item => {\n    return item.categoryId !== undefined;\n  };\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-container\",\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u0141adowanie...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 118\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n      className: \"sidebar\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"MyBudget\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          children: \"Pulpit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/expenses\",\n          children: \"Wydatki\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/income\",\n          children: \"Przychody\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/settings\",\n          children: \"Ustawienia\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 'auto'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleLogout,\n          children: \"Wyloguj si\\u0119\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"main-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"balance-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Aktualne saldo konta\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `balance-amount ${balance < 0 ? 'negative' : ''}`,\n          children: [balance.toFixed(2), \" \", currency]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"date-filter-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Zakres od:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          className: \"date-input\",\n          value: startDate,\n          onChange: e => setStartDate(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"date-separator\",\n          children: \"\\u2014\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"do:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          className: \"date-input\",\n          value: endDate,\n          onChange: e => setEndDate(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setStartDate('');\n            setEndDate(getToday());\n          },\n          style: {\n            marginLeft: 10,\n            padding: '5px 10px',\n            cursor: 'pointer',\n            border: 'none',\n            background: '#eee',\n            borderRadius: 4\n          },\n          children: \"Poka\\u017C wszystko\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"widgets-area\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"widget-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Struktura wydatk\\xF3w\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '100%',\n              height: 350\n            },\n            children: chartData.length > 0 ? /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n              width: \"100%\",\n              height: \"100%\",\n              children: /*#__PURE__*/_jsxDEV(PieChart, {\n                children: [/*#__PURE__*/_jsxDEV(Pie, {\n                  data: chartData,\n                  cx: \"50%\" // Środek w poziomie (zostaje 50%)\n                  ,\n                  cy: \"65%\" // <--- ZMIANA 2: Obniżamy środek koła (z 50% na 55%), żeby nie był przyklejony do góry\n                  ,\n                  labelLine: true,\n                  label: ({\n                    name,\n                    percent\n                  }) => `${name} ${(percent * 100).toFixed(0)}%`,\n                  outerRadius: 110,\n                  fill: \"#8884d8\",\n                  dataKey: \"value\",\n                  children: chartData.map((entry, index) => /*#__PURE__*/_jsxDEV(Cell, {\n                    fill: COLORS[index % COLORS.length]\n                  }, `cell-${index}`, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 201,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                  formatter: value => `${Number(value).toFixed(2)} ${currency}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Legend, {\n                  verticalAlign: \"bottom\",\n                  height: 36\n                  // ZMIANA 3: Odsunięcie legendy, żeby nie wchodziła na wykres\n                  ,\n                  wrapperStyle: {\n                    paddingTop: '40px'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                textAlign: 'center',\n                color: '#95a5a6',\n                marginTop: 120\n              },\n              children: \"Brak wydatk\\xF3w w tym terminie.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"widget-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Historia transakcji\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"transaction-list\",\n            children: displayedTransactions.length > 0 ?\n            // USUNIĘTO .slice(0, 10) - teraz mapujemy wszystko!\n            displayedTransactions.map(item => {\n              const isItemExpense = isExpense(item);\n              let title = \"\";\n              let subTitle = \"\";\n              let amountClass = \"\";\n              let sign = \"\";\n              if (isItemExpense) {\n                const matchedCat = categories.find(c => c.id === item.categoryId);\n                title = matchedCat ? matchedCat.name : \"Inne\";\n                subTitle = item.note || \"\";\n                amountClass = \"amount-red\";\n                sign = \"-\";\n              } else {\n                title = item.source || \"Przychód\";\n                subTitle = \"Wpływ środków\";\n                amountClass = \"amount-green\";\n                sign = \"+\";\n              }\n              return /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"transaction-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"transaction-info\",\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 253,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [new Date(item.date).toLocaleDateString(), subTitle ? ` • ${subTitle}` : '']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 254,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: amountClass,\n                  style: !isItemExpense ? {\n                    color: '#2ecc71',\n                    fontWeight: 'bold'\n                  } : {},\n                  children: [sign, item.amount.toFixed(2), \" \", currency]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 23\n                }, this)]\n              }, item.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 21\n              }, this);\n            }) : /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                textAlign: 'center',\n                color: '#95a5a6',\n                marginTop: 100\n              },\n              children: \"Brak transakcji w tym okresie.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 129,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"Zkv9lsUWF1XtPcLvM5U+GMQY4X8=\", false, function () {\n  return [useNavigate];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","Link","useNavigate","PieChart","Pie","Cell","Tooltip","Legend","ResponsiveContainer","apiClient","jsxDEV","_jsxDEV","COLORS","Dashboard","_s","navigate","getFirstDayOfMonth","date","Date","getFullYear","getMonth","toISOString","split","getToday","balance","setBalance","allExpenses","setAllExpenses","allIncome","setAllIncome","categories","setCategories","displayedTransactions","setDisplayedTransactions","chartData","setChartData","isLoading","setIsLoading","startDate","setStartDate","endDate","setEndDate","handleLogout","localStorage","removeItem","window","location","reload","currency","setCurrency","fetchData","expensesRes","incomeRes","categoriesRes","accountRes","Promise","all","get","userCurrency","data","setItem","totalIncome","reduce","sum","item","amount","totalExpenses","error","console","length","filteredExpenses","filter","exp","d","filteredIncome","inc","combined","sort","a","b","getTime","categoryMap","Map","forEach","matchedCat","find","c","id","categoryId","catName","name","currentTotal","set","Array","from","value","isExpense","undefined","className","style","display","justifyContent","alignItems","children","fileName","_jsxFileName","lineNumber","columnNumber","to","marginTop","onClick","toFixed","type","onChange","e","target","marginLeft","padding","cursor","border","background","borderRadius","width","height","cx","cy","labelLine","label","percent","outerRadius","fill","dataKey","map","entry","index","formatter","Number","verticalAlign","wrapperStyle","paddingTop","textAlign","color","isItemExpense","title","subTitle","amountClass","sign","note","source","toLocaleDateString","fontWeight","_c","$RefreshReg$"],"sources":["D:/JoszkoStudia/5sem/Aplikacje_sieciowe_i_webowe/git/MyBudget/repos/MyBudgetFront/budget-app/src/pages/Dashboard.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { PieChart, Pie, Cell, Tooltip, Legend, ResponsiveContainer } from 'recharts';\r\nimport apiClient from '../api/axios';\r\nimport { Expense, Income, Category, User } from '../types';\r\nimport '../styles/dashboard.css';\r\n\r\nconst COLORS = ['#3498db', '#2ecc71', '#9b59b6', '#f1c40f', '#e67e22', '#e74c3c', '#95a5a6'];\r\n\r\nconst Dashboard = () => {\r\n  const navigate = useNavigate();\r\n  \r\n  const getFirstDayOfMonth = () => {\r\n    const date = new Date();\r\n    return new Date(date.getFullYear(), date.getMonth(), 1).toISOString().split('T')[0];\r\n  };\r\n\r\n  const getToday = () => {\r\n    return new Date().toISOString().split('T')[0];\r\n  };\r\n\r\n\r\n  const [balance, setBalance] = useState<number>(0);\r\n  \r\n  const [allExpenses, setAllExpenses] = useState<Expense[]>([]);\r\n  const [allIncome, setAllIncome] = useState<Income[]>([]);\r\n  const [categories, setCategories] = useState<Category[]>([]);\r\n  \r\n  const [displayedTransactions, setDisplayedTransactions] = useState<(Expense | Income)[]>([]);\r\n  \r\n  const [chartData, setChartData] = useState<{ name: string; value: number }[]>([]);\r\n\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const [startDate, setStartDate] = useState(getFirstDayOfMonth());\r\n  const [endDate, setEndDate] = useState(getToday());\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('user');\r\n    window.location.reload();\r\n  };\r\n\r\n  // ... wewnątrz komponentu Dashboard ...\r\n  \r\n  const [currency, setCurrency] = useState<string>(\"PLN\"); // Domyślna wartość\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        setIsLoading(true);\r\n        \r\n        const [expensesRes, incomeRes, categoriesRes, accountRes] = await Promise.all([\r\n          apiClient.get<Expense[]>('/api/Expenses'),\r\n          apiClient.get<Income[]>('/api/Income'),\r\n          apiClient.get<Category[]>('/api/Category'),\r\n          apiClient.get<User>('/api/Account') \r\n        ]);\r\n\r\n        const userCurrency = accountRes.data.currency || \"PLN\";\r\n        \r\n        setCurrency(userCurrency);\r\n        \r\n        localStorage.setItem('userCurrency', userCurrency);\r\n\r\n        // Reszta danych...\r\n        setAllExpenses(expensesRes.data);\r\n        setAllIncome(incomeRes.data);\r\n        setCategories(categoriesRes.data);\r\n\r\n        const totalIncome = incomeRes.data.reduce((sum, item) => sum + item.amount, 0);\r\n        const totalExpenses = expensesRes.data.reduce((sum, item) => sum + item.amount, 0);\r\n        setBalance(totalIncome - totalExpenses);\r\n\r\n      } catch (error) {\r\n        console.error(\"Błąd danych:\", error);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (allExpenses.length === 0 && allIncome.length === 0) return;\r\n\r\n    // A. Filtrujemy WYDATKI\r\n    const filteredExpenses = allExpenses.filter(exp => {\r\n        const d = exp.date.split('T')[0];\r\n        return (!startDate || d >= startDate) && (!endDate || d <= endDate);\r\n    });\r\n\r\n    // B. Filtrujemy PRZYCHODY\r\n    const filteredIncome = allIncome.filter(inc => {\r\n        const d = inc.date.split('T')[0];\r\n        return (!startDate || d >= startDate) && (!endDate || d <= endDate);\r\n    });\r\n\r\n    // C. Łączymy obie listy w jedną\r\n    const combined = [...filteredExpenses, ...filteredIncome];\r\n\r\n    // D. Sortujemy po dacie (od najnowszych)\r\n    combined.sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime());\r\n\r\n    setDisplayedTransactions(combined);\r\n\r\n    // E. Wykres (nadal dotyczy tylko wydatków!)\r\n    const categoryMap = new Map<string, number>();\r\n    filteredExpenses.forEach(exp => {\r\n      const matchedCat = categories.find(c => c.id === exp.categoryId);\r\n      const catName = matchedCat ? matchedCat.name : \"Inne\";\r\n      const currentTotal = categoryMap.get(catName) || 0;\r\n      categoryMap.set(catName, currentTotal + exp.amount);\r\n    });\r\n    setChartData(Array.from(categoryMap, ([name, value]) => ({ name, value })));\r\n\r\n  }, [startDate, endDate, allExpenses, allIncome, categories]);\r\n\r\n  // Funkcja pomocnicza: Sprawdza czy obiekt to Wydatek (czy ma categoryId)\r\n  const isExpense = (item: Expense | Income): item is Expense => {\r\n    return (item as Expense).categoryId !== undefined;\r\n  };\r\n\r\n  if (isLoading) {\r\n    return <div className=\"dashboard-container\" style={{display:'flex',justifyContent:'center',alignItems:'center'}}><h2>Ładowanie...</h2></div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"dashboard-container\">\r\n      {/* SIDEBAR */}\r\n      <aside className=\"sidebar\">\r\n        <h2>MyBudget</h2>\r\n        <nav>\r\n          <Link to=\"/\">Pulpit</Link>\r\n          <Link to=\"/expenses\">Wydatki</Link>\r\n          <Link to=\"/income\">Przychody</Link>\r\n          <Link to=\"/settings\">Ustawienia</Link>\r\n        </nav>\r\n        <div style={{ marginTop: 'auto' }}>\r\n          <button onClick={handleLogout}>Wyloguj się</button>\r\n        </div>\r\n      </aside>\r\n\r\n      <main className=\"main-content\">\r\n        \r\n        {/* SALDO */}\r\n        <div className=\"balance-card\">\r\n          <h3>Aktualne saldo konta</h3>\r\n          <div className={`balance-amount ${balance < 0 ? 'negative' : ''}`}>\r\n            {balance.toFixed(2)} {currency}\r\n          </div>\r\n        </div>\r\n\r\n        {/* FILTRY DATY */}\r\n        <div className=\"date-filter-section\">\r\n          <label>Zakres od:</label>\r\n          <input \r\n            type=\"date\" \r\n            className=\"date-input\"\r\n            value={startDate}\r\n            onChange={(e) => setStartDate(e.target.value)}\r\n          />\r\n          <span className=\"date-separator\">—</span>\r\n          <label>do:</label>\r\n          <input \r\n            type=\"date\" \r\n            className=\"date-input\"\r\n            value={endDate}\r\n            onChange={(e) => setEndDate(e.target.value)}\r\n          />\r\n          <button \r\n             onClick={() => { setStartDate(''); setEndDate(getToday()); }}\r\n             style={{marginLeft: 10, padding: '5px 10px', cursor:'pointer', border:'none', background:'#eee', borderRadius: 4}}\r\n          >\r\n             Pokaż wszystko\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"widgets-area\">\r\n          \r\n          {/* WYKRES (Tylko Wydatki) */}\r\n          <div className=\"widget-card\">\r\n            <h3>Struktura wydatków</h3>\r\n            \r\n            {/* ZMIANA 1: Zwiększyliśmy wysokość na 350px i usunęliśmy flexboxa */}\r\n            <div style={{ width: '100%', height: 350 }}>\r\n              {chartData.length > 0 ? (\r\n                <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                  <PieChart>\r\n                    <Pie\r\n                      data={chartData}\r\n                      cx=\"50%\" // Środek w poziomie (zostaje 50%)\r\n                      cy=\"65%\" // <--- ZMIANA 2: Obniżamy środek koła (z 50% na 55%), żeby nie był przyklejony do góry\r\n                      labelLine={true}\r\n                      label={({ name, percent }: any) => `${name} ${(percent * 100).toFixed(0)}%`} \r\n                      outerRadius={110}\r\n                      fill=\"#8884d8\"\r\n                      dataKey=\"value\"\r\n                    >\r\n                      {chartData.map((entry, index) => (\r\n                        <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\r\n                      ))}\r\n                    </Pie>\r\n                    <Tooltip formatter={(value: any) => `${Number(value).toFixed(2)} ${currency}`} />\r\n                    <Legend \r\n                      verticalAlign=\"bottom\" \r\n                      height={36} \r\n                      // ZMIANA 3: Odsunięcie legendy, żeby nie wchodziła na wykres\r\n                      wrapperStyle={{ paddingTop: '40px' }} \r\n                    />\r\n                  </PieChart>\r\n                </ResponsiveContainer>\r\n              ) : (\r\n                <div style={{textAlign: 'center', color: '#95a5a6', marginTop: 120}}>\r\n                  Brak wydatków w tym terminie.\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* LISTA (Wydatki + Przychody) */}\r\n          <div className=\"widget-card\">\r\n            <h3>Historia transakcji</h3>\r\n            \r\n            <ul className=\"transaction-list\">\r\n              {displayedTransactions.length > 0 ? (\r\n                // USUNIĘTO .slice(0, 10) - teraz mapujemy wszystko!\r\n                displayedTransactions.map((item) => {\r\n                  \r\n                  const isItemExpense = isExpense(item);\r\n                  \r\n                  let title = \"\";\r\n                  let subTitle = \"\";\r\n                  let amountClass = \"\";\r\n                  let sign = \"\";\r\n\r\n                  if (isItemExpense) {\r\n                    const matchedCat = categories.find(c => c.id === item.categoryId);\r\n                    title = matchedCat ? matchedCat.name : \"Inne\";\r\n                    subTitle = item.note || \"\";\r\n                    amountClass = \"amount-red\";\r\n                    sign = \"-\";\r\n                  } else {\r\n                    title = (item as Income).source || \"Przychód\";\r\n                    subTitle = \"Wpływ środków\";\r\n                    amountClass = \"amount-green\";\r\n                    sign = \"+\";\r\n                  }\r\n\r\n                  return (\r\n                    <li key={item.id} className=\"transaction-item\">\r\n                      <div className=\"transaction-info\">\r\n                        <strong>{title}</strong>\r\n                        <span>\r\n                          {new Date(item.date).toLocaleDateString()} \r\n                          {subTitle ? ` • ${subTitle}` : ''}\r\n                        </span>\r\n                      </div>\r\n                      \r\n                      <div className={amountClass} style={!isItemExpense ? { color: '#2ecc71', fontWeight: 'bold' } : {}}>\r\n                        {sign}{item.amount.toFixed(2)} {currency}\r\n                      </div>\r\n                    </li>\r\n                  );\r\n                })\r\n              ) : (\r\n                <p style={{textAlign: 'center', color: '#95a5a6', marginTop: 100}}>\r\n                  Brak transakcji w tym okresie.\r\n                </p>\r\n              )}\r\n            </ul>\r\n          </div>\r\n\r\n\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}