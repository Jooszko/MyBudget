{"ast":null,"code":"var _jsxFileName = \"D:\\\\JoszkoStudia\\\\5sem\\\\Aplikacje_sieciowe_i_webowe\\\\git\\\\MyBudget\\\\repos\\\\MyBudgetFront\\\\budget-app\\\\src\\\\pages\\\\Dashboard.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { PieChart, Pie, Cell, Tooltip, Legend, ResponsiveContainer } from 'recharts';\nimport apiClient from '../api/axios';\nimport '../styles/dashboard.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst COLORS = ['#3498db', '#2ecc71', '#9b59b6', '#f1c40f', '#e67e22', '#e74c3c', '#95a5a6'];\nconst Dashboard = () => {\n  _s();\n  const navigate = useNavigate();\n  const getFirstDayOfMonth = () => {\n    const date = new Date();\n    return new Date(date.getFullYear(), date.getMonth(), 1).toISOString().split('T')[0];\n  };\n  const getToday = () => {\n    return new Date().toISOString().split('T')[0];\n  };\n\n  // --- STANY ---\n  const [balance, setBalance] = useState(0);\n\n  // 1. Surowe dane (Wszystkie)\n  const [allExpenses, setAllExpenses] = useState([]);\n  const [allIncome, setAllIncome] = useState([]); // <--- NOWY STAN\n  const [categories, setCategories] = useState([]);\n\n  // 2. Dane przefiltrowane (do wy≈õwietlania LISTY - mix wydatk√≥w i przychod√≥w)\n  // U≈ºywamy typu Unii (Expense | Income), ≈ºeby trzymaƒá oba rodzaje w jednej tablicy\n  const [displayedTransactions, setDisplayedTransactions] = useState([]);\n\n  // 3. Dane do wykresu (tylko z wydatk√≥w)\n  const [chartData, setChartData] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  // 4. Filtry daty\n  const [startDate, setStartDate] = useState(getFirstDayOfMonth());\n  const [endDate, setEndDate] = useState(getToday());\n  const handleLogout = () => {\n    localStorage.removeItem('user');\n    window.location.reload();\n  };\n\n  // EFEKT 1: Pobranie danych\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setIsLoading(true);\n        const [expensesRes, incomeRes, categoriesRes] = await Promise.all([apiClient.get('/api/Expenses'), apiClient.get('/api/Income'), apiClient.get('/api/Category')]);\n        setAllExpenses(expensesRes.data);\n        setAllIncome(incomeRes.data); // Zapisujemy przychody\n        setCategories(categoriesRes.data);\n\n        // Globalne saldo\n        const totalIncome = incomeRes.data.reduce((sum, item) => sum + item.amount, 0);\n        const totalExpenses = expensesRes.data.reduce((sum, item) => sum + item.amount, 0);\n        setBalance(totalIncome - totalExpenses);\n      } catch (error) {\n        console.error(\"B≈ÇƒÖd danych:\", error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchData();\n  }, []);\n\n  // EFEKT 2: Filtrowanie i ≈ÅƒÖczenie\n  useEffect(() => {\n    if (allExpenses.length === 0 && allIncome.length === 0) return;\n\n    // A. Filtrujemy WYDATKI\n    const filteredExpenses = allExpenses.filter(exp => {\n      const d = exp.date.split('T')[0];\n      return (!startDate || d >= startDate) && (!endDate || d <= endDate);\n    });\n\n    // B. Filtrujemy PRZYCHODY\n    const filteredIncome = allIncome.filter(inc => {\n      const d = inc.date.split('T')[0];\n      return (!startDate || d >= startDate) && (!endDate || d <= endDate);\n    });\n\n    // C. ≈ÅƒÖczymy obie listy w jednƒÖ\n    const combined = [...filteredExpenses, ...filteredIncome];\n\n    // D. Sortujemy po dacie (od najnowszych)\n    combined.sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime());\n    setDisplayedTransactions(combined);\n\n    // E. Wykres (nadal dotyczy tylko wydatk√≥w!)\n    const categoryMap = new Map();\n    filteredExpenses.forEach(exp => {\n      const matchedCat = categories.find(c => c.id === exp.categoryId);\n      const catName = matchedCat ? matchedCat.name : \"Inne\";\n      const currentTotal = categoryMap.get(catName) || 0;\n      categoryMap.set(catName, currentTotal + exp.amount);\n    });\n    setChartData(Array.from(categoryMap, ([name, value]) => ({\n      name,\n      value\n    })));\n  }, [startDate, endDate, allExpenses, allIncome, categories]);\n\n  // Funkcja pomocnicza: Sprawdza czy obiekt to Wydatek (czy ma categoryId)\n  const isExpense = item => {\n    return item.categoryId !== undefined;\n  };\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-container\",\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u0141adowanie...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 118\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n      className: \"sidebar\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uD83D\\uDCB0 MyBudget\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          children: \"\\uD83D\\uDCCA Pulpit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/expenses\",\n          children: \"\\uD83D\\uDCB8 Wydatki\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/income\",\n          children: \"\\uD83D\\uDCB0 Przychody\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/settings\",\n          children: \"\\u2699\\uFE0F Ustawienia\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 'auto'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleLogout,\n          children: \"\\uD83D\\uDEAA Wyloguj si\\u0119\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"main-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"balance-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Aktualne saldo konta\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `balance-amount ${balance < 0 ? 'negative' : ''}`,\n          children: [balance.toFixed(2), \" PLN\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"date-filter-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Zakres od:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          className: \"date-input\",\n          value: startDate,\n          onChange: e => setStartDate(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"date-separator\",\n          children: \"\\u2014\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"do:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          className: \"date-input\",\n          value: endDate,\n          onChange: e => setEndDate(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setStartDate('');\n            setEndDate(getToday());\n          },\n          style: {\n            marginLeft: 10,\n            padding: '5px 10px',\n            cursor: 'pointer',\n            border: 'none',\n            background: '#eee',\n            borderRadius: 4\n          },\n          children: \"Poka\\u017C wszystko\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"widgets-area\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"widget-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Struktura wydatk\\xF3w\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '100%',\n              height: 350\n            },\n            children: chartData.length > 0 ? /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n              width: \"100%\",\n              height: \"100%\",\n              children: /*#__PURE__*/_jsxDEV(PieChart, {\n                children: [/*#__PURE__*/_jsxDEV(Pie, {\n                  data: chartData,\n                  cx: \"50%\" // ≈örodek w poziomie (zostaje 50%)\n                  ,\n                  cy: \"65%\" // <--- ZMIANA 2: Obni≈ºamy ≈õrodek ko≈Ça (z 50% na 55%), ≈ºeby nie by≈Ç przyklejony do g√≥ry\n                  ,\n                  labelLine: true,\n                  label: ({\n                    name,\n                    percent\n                  }) => `${name} ${(percent * 100).toFixed(0)}%`,\n                  outerRadius: 110,\n                  fill: \"#8884d8\",\n                  dataKey: \"value\",\n                  children: chartData.map((entry, index) => /*#__PURE__*/_jsxDEV(Cell, {\n                    fill: COLORS[index % COLORS.length]\n                  }, `cell-${index}`, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 196,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 185,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                  formatter: value => `${Number(value).toFixed(2)} PLN`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Legend, {\n                  verticalAlign: \"bottom\",\n                  height: 36\n                  // ZMIANA 3: Odsuniƒôcie legendy, ≈ºeby nie wchodzi≈Ça na wykres\n                  ,\n                  wrapperStyle: {\n                    paddingTop: '40px'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                textAlign: 'center',\n                color: '#95a5a6',\n                marginTop: 120\n              },\n              children: \"Brak wydatk\\xF3w w tym terminie.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"widget-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Historia transakcji\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"transaction-list\",\n            children: displayedTransactions.length > 0 ?\n            // USUNIƒòTO .slice(0, 10) - teraz mapujemy wszystko!\n            displayedTransactions.map(item => {\n              const isItemExpense = isExpense(item);\n              let title = \"\";\n              let subTitle = \"\";\n              let amountClass = \"\";\n              let sign = \"\";\n              if (isItemExpense) {\n                const matchedCat = categories.find(c => c.id === item.categoryId);\n                title = matchedCat ? matchedCat.name : \"Inne\";\n                subTitle = item.note || \"\";\n                amountClass = \"amount-red\";\n                sign = \"-\";\n              } else {\n                title = item.source || \"Przych√≥d\";\n                subTitle = \"Wp≈Çyw ≈õrodk√≥w\";\n                amountClass = \"amount-green\"; // Pamiƒôtaj o stylu w CSS dla zielonego\n                sign = \"+\";\n              }\n              return /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"transaction-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"transaction-info\",\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: [isItemExpense ? 'üõí ' : 'üí∞ ', title]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 248,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [new Date(item.date).toLocaleDateString(), subTitle ? ` ‚Ä¢ ${subTitle}` : '']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 249,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 247,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: amountClass,\n                  style: !isItemExpense ? {\n                    color: '#2ecc71',\n                    fontWeight: 'bold'\n                  } : {},\n                  children: [sign, item.amount.toFixed(2), \" PLN\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 23\n                }, this)]\n              }, item.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 21\n              }, this);\n            }) : /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                textAlign: 'center',\n                color: '#95a5a6',\n                marginTop: 100\n              },\n              children: \"Brak transakcji w tym okresie.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 124,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"C0qBBLa15RkUFRupuKq79RpGK08=\", false, function () {\n  return [useNavigate];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","Link","useNavigate","PieChart","Pie","Cell","Tooltip","Legend","ResponsiveContainer","apiClient","jsxDEV","_jsxDEV","COLORS","Dashboard","_s","navigate","getFirstDayOfMonth","date","Date","getFullYear","getMonth","toISOString","split","getToday","balance","setBalance","allExpenses","setAllExpenses","allIncome","setAllIncome","categories","setCategories","displayedTransactions","setDisplayedTransactions","chartData","setChartData","isLoading","setIsLoading","startDate","setStartDate","endDate","setEndDate","handleLogout","localStorage","removeItem","window","location","reload","fetchData","expensesRes","incomeRes","categoriesRes","Promise","all","get","data","totalIncome","reduce","sum","item","amount","totalExpenses","error","console","length","filteredExpenses","filter","exp","d","filteredIncome","inc","combined","sort","a","b","getTime","categoryMap","Map","forEach","matchedCat","find","c","id","categoryId","catName","name","currentTotal","set","Array","from","value","isExpense","undefined","className","style","display","justifyContent","alignItems","children","fileName","_jsxFileName","lineNumber","columnNumber","to","marginTop","onClick","toFixed","type","onChange","e","target","marginLeft","padding","cursor","border","background","borderRadius","width","height","cx","cy","labelLine","label","percent","outerRadius","fill","dataKey","map","entry","index","formatter","Number","verticalAlign","wrapperStyle","paddingTop","textAlign","color","isItemExpense","title","subTitle","amountClass","sign","note","source","toLocaleDateString","fontWeight","_c","$RefreshReg$"],"sources":["D:/JoszkoStudia/5sem/Aplikacje_sieciowe_i_webowe/git/MyBudget/repos/MyBudgetFront/budget-app/src/pages/Dashboard.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { PieChart, Pie, Cell, Tooltip, Legend, ResponsiveContainer } from 'recharts';\r\nimport apiClient from '../api/axios';\r\nimport { Expense, Income, Category } from '../types';\r\nimport '../styles/dashboard.css';\r\n\r\nconst COLORS = ['#3498db', '#2ecc71', '#9b59b6', '#f1c40f', '#e67e22', '#e74c3c', '#95a5a6'];\r\n\r\nconst Dashboard = () => {\r\n  const navigate = useNavigate();\r\n  \r\n  const getFirstDayOfMonth = () => {\r\n    const date = new Date();\r\n    return new Date(date.getFullYear(), date.getMonth(), 1).toISOString().split('T')[0];\r\n  };\r\n\r\n  const getToday = () => {\r\n    return new Date().toISOString().split('T')[0];\r\n  };\r\n\r\n  // --- STANY ---\r\n  const [balance, setBalance] = useState<number>(0);\r\n  \r\n  // 1. Surowe dane (Wszystkie)\r\n  const [allExpenses, setAllExpenses] = useState<Expense[]>([]);\r\n  const [allIncome, setAllIncome] = useState<Income[]>([]); // <--- NOWY STAN\r\n  const [categories, setCategories] = useState<Category[]>([]);\r\n  \r\n  // 2. Dane przefiltrowane (do wy≈õwietlania LISTY - mix wydatk√≥w i przychod√≥w)\r\n  // U≈ºywamy typu Unii (Expense | Income), ≈ºeby trzymaƒá oba rodzaje w jednej tablicy\r\n  const [displayedTransactions, setDisplayedTransactions] = useState<(Expense | Income)[]>([]);\r\n  \r\n  // 3. Dane do wykresu (tylko z wydatk√≥w)\r\n  const [chartData, setChartData] = useState<{ name: string; value: number }[]>([]);\r\n\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  // 4. Filtry daty\r\n  const [startDate, setStartDate] = useState(getFirstDayOfMonth());\r\n  const [endDate, setEndDate] = useState(getToday());\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('user');\r\n    window.location.reload();\r\n  };\r\n\r\n  // EFEKT 1: Pobranie danych\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        setIsLoading(true);\r\n        const [expensesRes, incomeRes, categoriesRes] = await Promise.all([\r\n          apiClient.get<Expense[]>('/api/Expenses'),\r\n          apiClient.get<Income[]>('/api/Income'),\r\n          apiClient.get<Category[]>('/api/Category')\r\n        ]);\r\n\r\n        setAllExpenses(expensesRes.data);\r\n        setAllIncome(incomeRes.data); // Zapisujemy przychody\r\n        setCategories(categoriesRes.data);\r\n\r\n        // Globalne saldo\r\n        const totalIncome = incomeRes.data.reduce((sum, item) => sum + item.amount, 0);\r\n        const totalExpenses = expensesRes.data.reduce((sum, item) => sum + item.amount, 0);\r\n        setBalance(totalIncome - totalExpenses);\r\n\r\n      } catch (error) {\r\n        console.error(\"B≈ÇƒÖd danych:\", error);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  // EFEKT 2: Filtrowanie i ≈ÅƒÖczenie\r\n  useEffect(() => {\r\n    if (allExpenses.length === 0 && allIncome.length === 0) return;\r\n\r\n    // A. Filtrujemy WYDATKI\r\n    const filteredExpenses = allExpenses.filter(exp => {\r\n        const d = exp.date.split('T')[0];\r\n        return (!startDate || d >= startDate) && (!endDate || d <= endDate);\r\n    });\r\n\r\n    // B. Filtrujemy PRZYCHODY\r\n    const filteredIncome = allIncome.filter(inc => {\r\n        const d = inc.date.split('T')[0];\r\n        return (!startDate || d >= startDate) && (!endDate || d <= endDate);\r\n    });\r\n\r\n    // C. ≈ÅƒÖczymy obie listy w jednƒÖ\r\n    const combined = [...filteredExpenses, ...filteredIncome];\r\n\r\n    // D. Sortujemy po dacie (od najnowszych)\r\n    combined.sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime());\r\n\r\n    setDisplayedTransactions(combined);\r\n\r\n    // E. Wykres (nadal dotyczy tylko wydatk√≥w!)\r\n    const categoryMap = new Map<string, number>();\r\n    filteredExpenses.forEach(exp => {\r\n      const matchedCat = categories.find(c => c.id === exp.categoryId);\r\n      const catName = matchedCat ? matchedCat.name : \"Inne\";\r\n      const currentTotal = categoryMap.get(catName) || 0;\r\n      categoryMap.set(catName, currentTotal + exp.amount);\r\n    });\r\n    setChartData(Array.from(categoryMap, ([name, value]) => ({ name, value })));\r\n\r\n  }, [startDate, endDate, allExpenses, allIncome, categories]);\r\n\r\n  // Funkcja pomocnicza: Sprawdza czy obiekt to Wydatek (czy ma categoryId)\r\n  const isExpense = (item: Expense | Income): item is Expense => {\r\n    return (item as Expense).categoryId !== undefined;\r\n  };\r\n\r\n  if (isLoading) {\r\n    return <div className=\"dashboard-container\" style={{display:'flex',justifyContent:'center',alignItems:'center'}}><h2>≈Åadowanie...</h2></div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"dashboard-container\">\r\n      {/* SIDEBAR */}\r\n      <aside className=\"sidebar\">\r\n        <h2>üí∞ MyBudget</h2>\r\n        <nav>\r\n          <Link to=\"/\">üìä Pulpit</Link>\r\n          <Link to=\"/expenses\">üí∏ Wydatki</Link>\r\n          <Link to=\"/income\">üí∞ Przychody</Link>\r\n          <Link to=\"/settings\">‚öôÔ∏è Ustawienia</Link>\r\n        </nav>\r\n        <div style={{ marginTop: 'auto' }}>\r\n          <button onClick={handleLogout}>üö™ Wyloguj siƒô</button>\r\n        </div>\r\n      </aside>\r\n\r\n      <main className=\"main-content\">\r\n        \r\n        {/* SALDO */}\r\n        <div className=\"balance-card\">\r\n          <h3>Aktualne saldo konta</h3>\r\n          <div className={`balance-amount ${balance < 0 ? 'negative' : ''}`}>\r\n            {balance.toFixed(2)} PLN\r\n          </div>\r\n        </div>\r\n\r\n        {/* FILTRY DATY */}\r\n        <div className=\"date-filter-section\">\r\n          <label>Zakres od:</label>\r\n          <input \r\n            type=\"date\" \r\n            className=\"date-input\"\r\n            value={startDate}\r\n            onChange={(e) => setStartDate(e.target.value)}\r\n          />\r\n          <span className=\"date-separator\">‚Äî</span>\r\n          <label>do:</label>\r\n          <input \r\n            type=\"date\" \r\n            className=\"date-input\"\r\n            value={endDate}\r\n            onChange={(e) => setEndDate(e.target.value)}\r\n          />\r\n          <button \r\n             onClick={() => { setStartDate(''); setEndDate(getToday()); }}\r\n             style={{marginLeft: 10, padding: '5px 10px', cursor:'pointer', border:'none', background:'#eee', borderRadius: 4}}\r\n          >\r\n             Poka≈º wszystko\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"widgets-area\">\r\n          \r\n          {/* WYKRES (Tylko Wydatki) */}\r\n          <div className=\"widget-card\">\r\n            <h3>Struktura wydatk√≥w</h3>\r\n            \r\n            {/* ZMIANA 1: Zwiƒôkszyli≈õmy wysoko≈õƒá na 350px i usunƒôli≈õmy flexboxa */}\r\n            <div style={{ width: '100%', height: 350 }}>\r\n              {chartData.length > 0 ? (\r\n                <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                  <PieChart>\r\n                    <Pie\r\n                      data={chartData}\r\n                      cx=\"50%\" // ≈örodek w poziomie (zostaje 50%)\r\n                      cy=\"65%\" // <--- ZMIANA 2: Obni≈ºamy ≈õrodek ko≈Ça (z 50% na 55%), ≈ºeby nie by≈Ç przyklejony do g√≥ry\r\n                      labelLine={true}\r\n                      label={({ name, percent }: any) => `${name} ${(percent * 100).toFixed(0)}%`} \r\n                      outerRadius={110}\r\n                      fill=\"#8884d8\"\r\n                      dataKey=\"value\"\r\n                    >\r\n                      {chartData.map((entry, index) => (\r\n                        <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\r\n                      ))}\r\n                    </Pie>\r\n                    <Tooltip formatter={(value: any) => `${Number(value).toFixed(2)} PLN`} />\r\n                    <Legend \r\n                      verticalAlign=\"bottom\" \r\n                      height={36} \r\n                      // ZMIANA 3: Odsuniƒôcie legendy, ≈ºeby nie wchodzi≈Ça na wykres\r\n                      wrapperStyle={{ paddingTop: '40px' }} \r\n                    />\r\n                  </PieChart>\r\n                </ResponsiveContainer>\r\n              ) : (\r\n                <div style={{textAlign: 'center', color: '#95a5a6', marginTop: 120}}>\r\n                  Brak wydatk√≥w w tym terminie.\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* LISTA (Wydatki + Przychody) */}\r\n          <div className=\"widget-card\">\r\n            <h3>Historia transakcji</h3>\r\n            \r\n            <ul className=\"transaction-list\">\r\n              {displayedTransactions.length > 0 ? (\r\n                // USUNIƒòTO .slice(0, 10) - teraz mapujemy wszystko!\r\n                displayedTransactions.map((item) => {\r\n                  \r\n                  const isItemExpense = isExpense(item);\r\n                  \r\n                  let title = \"\";\r\n                  let subTitle = \"\";\r\n                  let amountClass = \"\";\r\n                  let sign = \"\";\r\n\r\n                  if (isItemExpense) {\r\n                    const matchedCat = categories.find(c => c.id === item.categoryId);\r\n                    title = matchedCat ? matchedCat.name : \"Inne\";\r\n                    subTitle = item.note || \"\";\r\n                    amountClass = \"amount-red\";\r\n                    sign = \"-\";\r\n                  } else {\r\n                    title = (item as Income).source || \"Przych√≥d\";\r\n                    subTitle = \"Wp≈Çyw ≈õrodk√≥w\";\r\n                    amountClass = \"amount-green\"; // Pamiƒôtaj o stylu w CSS dla zielonego\r\n                    sign = \"+\";\r\n                  }\r\n\r\n                  return (\r\n                    <li key={item.id} className=\"transaction-item\">\r\n                      <div className=\"transaction-info\">\r\n                        <strong>{isItemExpense ? 'üõí ' : 'üí∞ '}{title}</strong>\r\n                        <span>\r\n                          {new Date(item.date).toLocaleDateString()} \r\n                          {subTitle ? ` ‚Ä¢ ${subTitle}` : ''}\r\n                        </span>\r\n                      </div>\r\n                      \r\n                      <div className={amountClass} style={!isItemExpense ? { color: '#2ecc71', fontWeight: 'bold' } : {}}>\r\n                        {sign}{item.amount.toFixed(2)} PLN\r\n                      </div>\r\n                    </li>\r\n                  );\r\n                })\r\n              ) : (\r\n                <p style={{textAlign: 'center', color: '#95a5a6', marginTop: 100}}>\r\n                  Brak transakcji w tym okresie.\r\n                </p>\r\n              )}\r\n            </ul>\r\n            \r\n            {/* Usunƒôli≈õmy stopkƒô z linkiem \"Zobacz wiƒôcej\", bo teraz wszystko jest w scrollu */}\r\n          </div>\r\n\r\n\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}